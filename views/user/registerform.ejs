<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-storage-compat.js"></script>

    <!-- Bootstrap V.5.0 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./css/signup.css" />
    <link rel="stylesheet" href="./css/loader.css" />
    <link rel="stlyesheet" href="./Css/signup-btn.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
      integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="icon" href="/image/cart-removebg-preview.png" />

    <title>User | Signup</title>
  </head>

  <body onload="validation();">
    
    <div id="loader" style="display: none">
      <div class="loader3">
        <span></span>
        <span></span>
      </div>
    </div>

       
  
    <div class="container background">
         <form action="" method="POST">
        <section class="h-100">
          <div class="container-fluid py-5">
            <div
              class="row d-flex justify-content-center align-items-center h-100"
            >
              <div class="col-xl-6 bg-transparent-user">
                <div
                  class="card-body p-md-5 text-black shadow p-3 mb-5 bg-body rounded"
                >
                  <script src="https://cdn.lordicon.com/fudrjiwc.js"></script>
                  <lord-icon
                    src="https://cdn.lordicon.com/eszyyflr.json"
                    trigger="hover"
                    style="width: 200px; height: 200px"
            
                  >
                  </lord-icon>

                  <h6>Signup as user</h6>

                  <h3 class="mb-5 fw-bold">Let's get you started!</h3>
                  <div class="form-outline mb-4">
                    <label class="form-label" for="signUserName"
                      >Full Name</label
                    >
                    <input
                      type="text"
                      id="signUserName"
                      oninput="validation()"
                      class="form-control rounded-0 form-control-lg"
                      autocapitalize="none"
                      autocorrect="off"
                      name="firstName"
                      required
                    />
                    
                  </div>

                  <div class="form-outline mb-4">
                    <label class="form-label" for="signUserEmail"
                      >Email ID</label
                    >
  
                    <input
                      type="email"
                      id="signUserEmail"
                      oninput="validation()"
                      class="form-control rounded-0 form-control-lg"
                      name="email"
                      required
                    />
                                     </div>
                  <div class="form-outline mb-4">
                    <label class="form-label" for="signUserPhone"
                    >Phone Number</label
                  >
                    <input
                      type="number"
                      id="signUserPhone"
                      oninput="validation()"
                      class="form-control rounded-0 form-control-lg"
                      name="phoneNumber"
                      required
                    />

                    
                  </div>

                  <div class="form-outline mb-1">
                    <label class="form-label" for="signUserPass"
                    >Password</label
                  >
                    <input
                      type="password"
                      id="signUserPass"
                      oninput="validation()"
                      class="form-control rounded-0 form-control-lg"
                      name="password"
                      required
                    />
                    
                  </div>
                  <div class="form-outline mb-1">
                    <label class="form-label" for="signUserPass"
                    > ConfirmPassword</label
                  >
                    <input
                      type="password"
                      id="signUserPass"
                      oninput="validation()"
                      class="form-control rounded-0 form-control-lg"
                      name="confirmpassword"
                      required
                    />
                    
                  </div>
                 
                  <div class="form-check form-switch">
                    <input
                      class="form-check-input shadow-remove link-style"
                      type="checkbox"
                      onclick="showusersignuppassword()"
                      id="flexSwitchCheckDefault"
                    />
                    <label
                      class="form-check-label"
                      for="flexSwitchCheckDefault"
                    >
                      Show Password</label
                    >
                  </div>
                  <div class="d-flex justify-content-between">
                    <!-- <div id="" class="form-text mb-4 text-center pt-4">
                                        SignUp as <a class="link-style" href="signupresturant.html"> Restaurant</a>
                                    </div> -->
                    <div id="" class="form-text mb-4 text-center pt-4">
                      Already have an account
                      <a class="link-style" href="/user/login">Login here</a>
                    </div>
                  </div>
                  <button type="submit" class="btn" style="color:rgb(232, 243, 242); background-color:rgb(25, 114, 102);; width:100%"><span>SIGN IN</span></button>
              </div>
            </div>
          </div>
        </section>
      </form>
    </div>

    <script >

function showusersignuppassword() {
    var signUserPass = document.getElementById('signUserPass');
    if (signUserPass.type === "password") {
        signUserPass.type = "text"
    } else {
        signUserPass.type = "password"
    }
}
function showsignuppassword() {
    var signupResPassword = document.getElementById("signupResPassword");

    if (signupResPassword.type === "password") {
        signupResPassword.type = "text";
    } else {
        signupResPassword.type = "password";
    }
}
// Show Login Password
function showloginpassword() {
    var loginpassword = document.getElementById("loginpassword")
    if (loginpassword.type === "password") {
        loginpassword.type = "text";
    } else {
        loginpassword.type = "password";
    }
}


const validation = () => {
    let signUserName = document.getElementById('signUserName').value;
    let signUserPhone = document.getElementById('signUserPhone').value;
    let signUserCountry = document.getElementById('signUserCountry').value;
    let signUserCity = document.getElementById('signUserCity').value;
    let email = document.getElementById('signUserEmail').value;
    let pass = document.getElementById('signUserPass').value;
    let userSignupButton = document.getElementById('userSignupButton');

    if ((signUserName && signUserPhone && signUserCountry && signUserCity && email && pass).length === 0) {
        userSignupButton.disabled = true;
    } else {
        userSignupButton.disabled = false;
    }
}

const resSignupValidation = () => {
    let signupResName = document.getElementById('signupResName').value;
    let signupResEmail = document.getElementById('signupResEmail').value;
    let signupRescountry = document.getElementById('signupRescountry').value;
    let signuResCity = document.getElementById('signuResCity').value;
    let signupResPassword = document.getElementById('signupResPassword').value;
    let file = document.getElementById('MainResImage').files[0];
    let resSignupButton = document.getElementById('resSignupButton');
    if ((signupResName && signupResEmail && signupRescountry && signuResCity && signupResPassword).length === 0 || (file === undefined)) {
        resSignupButton.disabled = true;
    } else {
        resSignupButton.disabled = false;
    }
}
    </script>
    <script src="/js/sweetalert.min.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
  </body>
</html>

<script>
  const form = document.querySelector("form");

form.addEventListener("submit", (event) => {
  var flag = 0;
  flag = validateInputs();
  if (flag == 1) {
    event.preventDefault();
  }
});

function onlyLetters(str) {
  return /^[a-zA-Z]+$/.test(str);
}

function validateInputs() {
  const firstName = document.getElementById("signUserName").value;
  // const lastName = document.getElementById("lastName").value;
  // const dob = document.getElementById("birthdayDate").value;
  const emailAddress = document.getElementById("signUserEmail").value;
  const phoneNumber = Number(document.getElementById("signUserPass").value);
  const password = document.getElementById("password").value;
  const confirm_password = document.getElementById("confirmpassword").value;
  if (
    firstName.length == 0 ||
    // lastName.length == 0 ||
    emailAddress.length == 0 ||
    phoneNumber.toString().length == 0 ||
    password.length == 0 ||
    confirm_password.length == 0
  ) {
    alert("Enter data in all fields");
    return 1;
  } else {
    // const age = calage(dob);
    if (!onlyLetters(firstName.trim())) {
      alert("First name should only contain LETTERS");
      return 1;
    } else if (!onlyLetters(lastName.trim())) {
      alert("Last name should only contain LETTERS");
      return 1;
    // } else if (age < 12 || age > 100) {
      // alert("invalid date of birth");
      // return 1;
    } else if (phoneNumber.toString().length != 10 || isNaN(phoneNumber)) {
      alert("enter valid phone number");
      return 1;
    } else if (password.length < 8) {
      alert("Password length must be atleast 8 characters");
      return 1;
    } else if (password.length > 15) {
      alert("Password length must not exceed 15 characters");
      return 1;
    } else {
      return 0;
    }
  }
}


  var dobcal = new Date(dob);
  var month_diff = Date.now() - dobcal.getTime();
  var age_dt = new Date(month_diff);
  var year = age_dt.getUTCFullYear();
  var age = Math.abs(year - 1970);
  return age;
}
</script>